--- package/boot/uboot-rockchip/patches/302-rockchip-rk3328-Add-support-for-Orangepi-R1-Plus.patch
+++ package/boot/uboot-rockchip/patches/302-rockchip-rk3328-Add-support-for-Orangepi-R1-Plus.patch
@@ -23,27 +23,69 @@
  	rk3328-roc-cc.dtb \
  	rk3328-rock64.dtb \
  	rk3328-rock-pi-e.dtb
-diff --git a/arch/arm/dts/rk3328-orangepi-r1-plus-lts.dts b/arch/arm/dts/rk3328-orangepi-r1-plus-lts.dts
-new file mode 100644
-index 00000000..e6225b0c
+--- /dev/null
++++ b/arch/arm/dts/rk3328-orangepi-r1-plus-lts-u-boot.dtsi
+@@ -0,0 +1 @@
++#include "rk3328-orangepi-r1-plus-u-boot.dtsi"
 --- /dev/null
 +++ b/arch/arm/dts/rk3328-orangepi-r1-plus-lts.dts
-@@ -0,0 +1,7 @@
+@@ -0,0 +1,47 @@
 +// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
++/*
++ * Copyright (c) 2016 Xunlong Software. Co., Ltd.
++ * (http://www.orangepi.org)
++ *
++ * Copyright (c) 2021 Tianling Shen <cnsztl@immortalwrt.org>
++ */
++
 +#include "rk3328-orangepi-r1-plus.dts"
 +
 +/ {
 +	model = "Xunlong Orange Pi R1 Plus LTS";
 +	compatible = "xunlong,orangepi-r1-plus-lts", "rockchip,rk3328";
 +};
-diff --git a/configs/orangepi-r1-plus-lts-rk3328_defconfig b/configs/orangepi-r1-plus-lts-rk3328_defconfig
-new file mode 100644
-index 00000000..3cb3b5c3
++
++&gmac2io {
++	phy-handle = <&yt8531c>;
++	tx_delay = <0x19>;
++	rx_delay = <0x05>;
++
++	mdio {
++		/delete-node/ ethernet-phy@1;
++
++		yt8531c: ethernet-phy@0 {
++			compatible = "ethernet-phy-id4f51.e91b",
++				     "ethernet-phy-ieee802.3-c22";
++			reg = <0>;
++			pinctrl-0 = <&eth_phy_reset_pin>;
++			pinctrl-names = "default";
++			reset-assert-us = <15000>;
++			reset-deassert-us = <50000>;
++			reset-gpios = <&gpio1 RK_PC2 GPIO_ACTIVE_LOW>;
++		};
++	};
++};
++
++&lan_led {
++	label = "orangepi-r1-plus-lts:green:lan";
++};
++
++&sys_led {
++	label = "orangepi-r1-plus-lts:red:sys";
++};
++
++&wan_led {
++	label = "orangepi-r1-plus-lts:green:wan";
++};
 --- /dev/null
 +++ b/configs/orangepi-r1-plus-lts-rk3328_defconfig
-@@ -0,0 +1,100 @@
+@@ -0,0 +1,103 @@
 +CONFIG_ARM=y
++CONFIG_SKIP_LOWLEVEL_INIT=y
++CONFIG_HAS_CUSTOM_SYS_INIT_SP_ADDR=y
++CONFIG_CUSTOM_SYS_INIT_SP_ADDR=0x300000
 +CONFIG_ARCH_ROCKCHIP=y
++CONFIG_COUNTER_FREQUENCY=24000000
 +CONFIG_SYS_TEXT_BASE=0x00200000
 +CONFIG_SPL_GPIO_SUPPORT=y
 +CONFIG_ENV_OFFSET=0x3F8000
@@ -57,9 +99,9 @@
 +CONFIG_DEBUG_UART_BASE=0xFF130000
 +CONFIG_DEBUG_UART_CLOCK=24000000
 +CONFIG_SYSINFO=y
-+CONFIG_SYS_LOAD_ADDR=0x800800
 +CONFIG_DEBUG_UART=y
 +CONFIG_TPL_SYS_MALLOC_F_LEN=0x800
++CONFIG_SYS_LOAD_ADDR=0x800800
 +# CONFIG_ANDROID_BOOT_IMAGE is not set
 +CONFIG_FIT=y
 +CONFIG_FIT_VERBOSE=y
@@ -133,7 +175,6 @@
 +CONFIG_USB_EHCI_GENERIC=y
 +CONFIG_USB_OHCI_HCD=y
 +CONFIG_USB_OHCI_GENERIC=y
-+CONFIG_SYS_USB_OHCI_MAX_ROOT_PORTS=1
 +CONFIG_USB_DWC2=y
 +CONFIG_USB_DWC3=y
 +# CONFIG_USB_DWC3_GADGET is not set
@@ -142,5 +183,3 @@
 +CONFIG_SPL_TINY_MEMSET=y
 +CONFIG_TPL_TINY_MEMSET=y
 +CONFIG_ERRNO_STR=y
--- 
-2.25.1
